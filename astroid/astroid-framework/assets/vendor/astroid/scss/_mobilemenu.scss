$burger-layer-width: 30px !default;
$close-btn-height: 50px !default;
$menu-indicator-width: 60px !default;

.astroid-mobilemenu {
   position: fixed;
   top: 0;
   left: 0;
   z-index: $zindex-popover;
   visibility: hidden;
   height: 100%;
   width: 250px;
   overflow: auto;
   -webkit-overflow-scrolling: touch;
   background-color: $white;
   -webkit-transition: all .5s;
   transition: all .5s;
   max-width: 100vw !important;

   &.dir-right {
      right: 0;
      left: auto;
   }

   a small {
      display: block !important;
   }

   .burger-menu-button {
      padding: 10px;
      position: sticky;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 9;
   }
}

.offcanvas-right {
   .astroid-mobilemenu-container .astroid-mobilemenu-inner .dropdown-menus {
      left: auto;
      right: -100%;

      &.menu_open {
         left: auto;
         right: 0;
      }
   }
}

.astroid-mobilemenu-container .astroid-mobilemenu-inner {
   ul {
      padding: 0;
      display: block;
      position: relative;
      width: 100%;
      height: 100%;
      overflow: auto;

      >li.menu-item:first-child {
         border-top: 1px solid #ddd;
      }

      li.menu-item.menu-go-back {
         margin-top: $close-btn-height;
         border-top: 0;
      }
   }

   .menu-item {
      border-bottom: 1px solid #ddd;
      display: table;
      width: 100%;
   }

   .menu-item a,
   .menu-item span.separator,
   .menu-item span.nav-header {
      cursor: pointer;
      outline: 0;
      width: calc(100% - #{$menu-indicator-width});
      text-decoration: none;
      vertical-align: middle;
      display: table-cell;
      color: $black;
      padding: 15px;
   }

   .menu-item .menu-indicator {
      width: $menu-indicator-width;
      text-align: center;
      display: table-cell;
      vertical-align: middle;
      border-left: 1px solid #ddd;
      cursor: pointer;
   }

   .dropdown-menus {
      position: fixed;
      left: -150%;
      top: 0;
      height: 100vh;
      width: 100% !important;
      transition: all .5s;
      background-color: $white;

      .menu-indicator-back {
         text-align: left;
         width: 100%;
         cursor: pointer;
         display: block;
         padding: 15px;
         box-sizing: border-box;
      }

      .menu-indicator-back i {
         margin-right: 10px;
      }

      .dropdown-menus-item {
         width: 100%;
      }

      &.menu_open {
         left: 0;
         z-index: 1;
      }
   }
}

.burger-menu-button {
   text-align: right;
   line-height: 0;
   margin: 0;
}

.astroid-mobilemenu-open {

   .close-offcanvas,
   .close-offcanvas:hover {
      color: $black;
      display: inline-block;
      margin: 0;
      position: relative;
      right: 5px;
      box-sizing: content-box;
      z-index: 999999;
   }

   .burger-menu-button .inner,
   .burger-menu-button .inner::before,
   .burger-menu-button .inner::after {
      background-color: $black;
      opacity: 1;
   }
}

body.astroid-mobilemenu-opened {
   max-height: 100vh;
   overflow: hidden;

   .astroid-mobilemenu-open {
      overflow-x: hidden;
   }

   .astroid-content:after {
      width: 100%;
      height: 100%;
      opacity: 1;
      -webkit-transition: opacity .5s;
      transition: opacity .5s;
   }

   .astroid-mobilemenu:after {
      width: 0;
      height: 0;
      opacity: 0;
      -webkit-transition: opacity .5s, width .1s .5s, height .1s .5s;
      transition: opacity .5s, width .1s .5s, height .1s .5s;
   }
}


/* New Mobile Menu */

.ast-menu {
   position: fixed;
   left: 0;
   width: 250px;
   height: calc(100% - 60px);
   bottom: 0;
}

.ast-menu__wrap {
   position: absolute;
   top: 3.5em;
   bottom: 0;
   overflow: hidden;
   width: 100%;
}

.ast-menu__level {
   position: absolute;
   top: 0;
   left: 0;
   visibility: hidden;
   overflow: hidden;
   overflow-y: scroll;
   width: 100%;
   height: 100%;
   margin: 0;
   padding: 0;
   list-style-type: none;
}

.ast-menu__level:focus {
   outline: none;
}

.ast-menu__level--current {
   visibility: visible;
}

.ast-menu__item {
   display: block;
   width: 100%;
   position: relative;
}

.ast-menu__link {
   position: relative;
   display: block;
   padding: 10px 15px;
   -webkit-transition: color 0.1s;
   transition: color 0.1s;
}

/* .ast-menu__link[data-submenu]::after {
   content: '\e904';
   font-family: 'feather';
   position: absolute;
   right: 0;
   padding: 0.25em 1.25em;
} */

.ast-menu__link:hover,
.ast-menu__link:focus,
.ast-menu__link[data-submenu]:hover::after,
.ast-menu__link[data-submenu]:focus::after {}

[class^='animate-'],
[class*=' animate-'] {
   visibility: visible;
}

.animate-outToRight .ast-menu__item {
   -webkit-animation: outToRight 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
   animation: outToRight 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
}

@-webkit-keyframes outToRight {
   to {
      opacity: 0;
      -webkit-transform: translate3d(100%, 0, 0);
      transform: translate3d(100%, 0, 0);
   }
}

@keyframes outToRight {
   to {
      opacity: 0;
      -webkit-transform: translate3d(100%, 0, 0);
      transform: translate3d(100%, 0, 0);
   }
}

.animate-outToLeft .ast-menu__item {
   -webkit-animation: outToLeft 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
   animation: outToLeft 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
}

@-webkit-keyframes outToLeft {
   to {
      opacity: 0;
      -webkit-transform: translate3d(-100%, 0, 0);
      transform: translate3d(-100%, 0, 0);
   }
}

@keyframes outToLeft {
   to {
      opacity: 0;
      -webkit-transform: translate3d(-100%, 0, 0);
      transform: translate3d(-100%, 0, 0);
   }
}

.animate-inFromLeft .ast-menu__item {
   -webkit-animation: inFromLeft 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
   animation: inFromLeft 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
}

@-webkit-keyframes inFromLeft {
   from {
      opacity: 0;
      -webkit-transform: translate3d(-100%, 0, 0);
      transform: translate3d(-100%, 0, 0);
   }

   to {
      opacity: 1;
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
   }
}

@keyframes inFromLeft {
   from {
      opacity: 0;
      -webkit-transform: translate3d(-100%, 0, 0);
      transform: translate3d(-100%, 0, 0);
   }

   to {
      opacity: 1;
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
   }
}

.animate-inFromRight .ast-menu__item {
   -webkit-animation: inFromRight 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
   animation: inFromRight 0.6s both cubic-bezier(0.7, 0, 0.3, 1);
}

@-webkit-keyframes inFromRight {
   from {
      opacity: 0;
      -webkit-transform: translate3d(100%, 0, 0);
      transform: translate3d(100%, 0, 0);
   }

   to {
      opacity: 1;
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
   }
}

@keyframes inFromRight {
   from {
      opacity: 0;
      -webkit-transform: translate3d(100%, 0, 0);
      transform: translate3d(100%, 0, 0);
   }

   to {
      opacity: 1;
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
   }
}

.ast-menu__breadcrumbs {
   font-size: 0.65em;
   line-height: 1;
   position: relative;
   padding: 15px;
}

.ast-menu__breadcrumbs a {
   font-weight: bold;
   display: inline-block;
   cursor: pointer;
   vertical-align: middle;
   letter-spacing: 1px;
   text-transform: uppercase;
   line-height: 1rem;
   color: var(--primary);
}

.ast-menu__breadcrumbs a:last-child {
   pointer-events: none;
}

.ast-menu__breadcrumbs a:hover,
.ast-menu__breadcrumbs a:focus {}

.ast-menu__breadcrumbs a:not(:last-child)::after {
   content: "\2192";
   display: inline-block;
   padding: 0 5px;
   color: var(--secondary);
}

.ast-menu__breadcrumbs a:not(:last-child):hover::after,
.ast-menu__breadcrumbs a:not(:last-child):focus::after {}

.ast-menu__back {
   font-size: 1.05em;
   position: absolute;
   z-index: 100;
   top: 0;
   right: 2.25em;
   margin: 0;
   padding: 1.365em 0.65em 0 0;
   cursor: pointer;
   border: none;
   background: none;
}

.ast-menu__back--hidden {
   pointer-events: none;
   opacity: 0;
}

.ast-menu__back:hover,
.ast-menu__back:focus {
   outline: none;
}


/* Open and close buttons */

.action {
   position: absolute;
   display: block;
   margin: 0;
   padding: 0;
   cursor: pointer;
   border: none;
   background: none;
}

.action:focus {
   outline: none;
}

.action--open {
   font-size: 1.5em;
   top: 1em;
   left: 1em;
   display: none;
   position: fixed;
   z-index: 1000;
}

.action--close {
   font-size: 1.1em;
   top: 1.25em;
   right: 1em;
   display: none;
}

@media screen and (max-width: 40em) {

   .action--open,
   .action--close {
      display: block;
   }

   .ast-menu {
      z-index: 1000;
      top: 0;
      width: 100%;
      height: 100vh;
      -webkit-transform: translate3d(-100%, 0, 0);
      transform: translate3d(-100%, 0, 0);
      -webkit-transition: -webkit-transform 0.3s;
      transition: transform 0.3s;
   }

   .ast-menu--open {
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
   }
}

.ast-menu__handler {
   position: absolute;
   top: 0;
   right: 0;
   height: 100%;
   width: 50px;
   display: flex;
   justify-content: center;
   align-items: center;
}